# Macroscop.TextAnalyzer

## Описание проекта

Сервис выполняет анализ текста.

Метод **POST /v1/text-analyze/palindrome** принимает запрос от пользователя, содержащий текстовую строку

```
HTTP POST /v1/text-analyze/palindrome
Request TEXT/PLAIN: 

Лёша на полке клопа нашёл.

Response JSON: 200 

true
```

По этим данным проверяется, является ли переданная строка палиндромом. При проверке не учитываются знаки пунктуации и пробелы.


## Сервер

При запуске сервера в конфиге задаётся параметр `MaxConcurrentRequests` - максимальное количество одновременно  обрабатываемых запросов сервером.

Один сервер может одновременно обрабатывать запросы с множества клиентов, но т.к. ресурсы сервера ограничены, то одновременно он может обрабатывать только `MaxConcurrentRequests` запросов (именно запросов, а не клиентов. Т.е. это могут быть запросы как от одного так и от разных клиентов). Если же при очередном запросе на сервере, количество запросов превышает `MaxConcurrentRequests`, то сервер моментально отвечает ошибкой со статусом **429** на такой запрос.

Чтобы легко можно было воспроизвести ситуацию перегрузки сервера, запросы клиента обрабатываются долго, чуть больше 1 секунды.

## Клиент

Клиентское приложение реализовано в виде Console App.

При запуске принимает путь до папки с входными данными. Входные данные имеют вид текстовых файлов произвольной длины.

Основная задача клиента - отправлять текст каждого файла на сервер и затем отображать ответ сервера для каждого файла. Т.е. по результатам работы клиента мы получаем корректный ответ по каждому файлу, является ли содержимое этого файла палиндромом. 1 файл соответсвует одному запросу клиента на сервер.

Клиент не знает, сколько одновременно запросов может обрабатывать сервер. Но он стремится использовать сервер по максимуму. В конфигурации клиентского приложения можно настроить `ParallelismDegree`. Чем больше это значение, тем больше одновременных запросов сможет отправить клиент.